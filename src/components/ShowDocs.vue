<template>
      <div v-html="html"></div>
</template>

<script>

  export default {
    name: 'show-docs',
    props: ['filename'],

    data: () => ({
      html: '',
      doc: "# Chart\n\n## How to use\n\n```\nconst chart = roiCharts.chart(config);\n```\n\n#### `config` is an object specifying graph's properties\n\nVariable **chart** is an instance of a chart - it is returned by roiCharts `chart` method. It contains the resize method which allows chart resizing.<br>\nUsage:\n```\nconst newWidth = 500;\nconst newHeight = 400;\nchart.resize(newWidth, newHeight);\n```\n\n### Mandatory fields:\n- **container** _(DOM node / delegate)_ - container in which a chart should be rendered\n- **series** _(array)_ - array of series or groups of series to be rendered on a chart<br>\nThese elements are described in [Series](/series) and [Groups](/groups) tabs.\n\n### Optional fields:\n- **categoriesKey** _(string / delegate)_ - key of categories in series data objects<br>\nDefault value - data entry's first string field's key\n- **eventSubscribers** _(array)_ - custom events subscribers, see more in [Events](/events)\n- **eventsTypes** _(string)_ - events types used by interaction manager, see more in [Events](/events). Currently supported `eventTypes` implemented by the library: \n```\nMOUSE_INTERACTIONS\n```\nDefault value - `MOUSE_INTERACTIONS`\n- **dataColorsScheme** _(string / array)_ - name of the one of default color schemes for the chart that is included in the library, or custom color scheme passed as an array of color values. At the chart level the next color from the provided colors array or the default scheme is assigned for every series<br>\nAvailable default color schemes: `schemeCategory10`, `schemeSet3`<br>\nDefault value - `schemeCategory10`\n- **valueKeys** _(array / delegate)_ - array of keys of fields in series data that should be treated as values<br>\nDefault behavior is described in [Setting value keys](/value-keys) tab.\n- **noDataMessage** _(string / delegate)_ - message displayed when there is no data in series<br>\nDefault value - `No data in series`\n- **separators** _(object)_ - it works the same as **separators** option for [Series](/series), but is applied for values axes' labels and data labels. It has the lowest priority of all separators settings.\n- **primaryValuesAxis** _(object)_ - defines ticks adjustments options and which elements (line and labels) of the primary (left or bottom) chart axis should be rendered<br>\nDefault value:\n```\n{\n    line: true,\n    labels: true,\n    ticks: {\n        marksVisible: true,\n        fixedInterval: false,\n    },\n    separators: {\n        decimal: ',',\n        thousands: '.',\n    },\n}\n```\nOptions:\n    - **line** _(boolean)_ - defines whether the line should be rendered\n    - **labels** _(boolean)_ - defines whether the labels should be rendered\n    - **ticks** _(object)_ - ticks configuration object\n        - **fixedInterval** _(boolean / number)_ - defines a fixed interval between ticks.<br>\n        Default value - `false` for dynamic ticks placing.<br>\n        If exists, ticks on the opposite values axis are recalulated to fit this axis' domain. If both `primaryValuesAxis` and `secondaryValuesAxis` have `fixedInterval` set, only the `fixedInterval` on the `primaryValuesAxis` is being taken into account.<br>\n        If the fixed interval passed is too small, this option is omitted in order to preserve the correct chart rendering.\n        - **marksVisible** - _(boolean)_ - defines whether the ticks marks should be rendered\n    - **separators** _(object)_ - it works the same as **separators** option for [Series](/series), but is applied for particular values axis' labels.\n    - **decimals** _(number)_ - the number of decimals to be rendered in data labels of a particular axis. It is ignored by default.\n\n- **secondaryValuesAxis** _(object)_ - defines ticks adjustments options and which elements (line and labels) of the secondary (right or top) chart axis should be rendered.<br>\nDefault value and options descriptions are the same as for **primaryValuesAxis** above.\n- **categoriesAxis** _(object)_ - defines which elements (line and labels) of the category chart axis should be rendered<br>\nDefault value:\n```\n{\n    line: true,\n    labels: true,\n}\n```\n- **categoriesLabels** _(delegate)_ - a function which is being applied one by one for every categories axis label. It takes the current **label** and the **value** of the first chart's entry connected to the category as parameters, and expects the updated label as a return value.<br>\n- **categoriesTitle** _(string / delegate)_ - title for the categories axis\n- **primaryValuesTitle** _(string / delegate)_ - title of the the primary values axis\n- **secondaryValuesTitle** _(string / delegate)_ - title of the secondary values axis\n- **valuesAxesDecimals** _(number)_ - the number of decimals to be rendered in data labels of both values axes. It has a lower priority than a similar setting for particular labels and is ignored by default.\n- **orientation** _(string / delegate)_ - chart orientation, either vertical or horizontal<br>\nDefault value - `vertical`\n- **width** _(number / delegate)_ - total chart width<br>\nDefault value - width of a container\n- **height** _(number / delegate)_ - total chart height<br>\nDefault value - height of a container\n- **margin** _(object / delegate)_ - chart inner margins, it is an object containing fields `top`, `right`, `bottom` and `left`.<br>\nUser does not have to provide every margin, only the ones provided will override the appropriate ones.<br>\nDefault value:\n```\n{\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n}\n```\n- **legend** _(object / delegate)_ - configuration for chart legend.<br>\nEvery skipped value is replaced with a one from the defaults.<br>\nDefault values:\n```\n{\n    visible: false,\n    position: 'bottom',\n    margin: {\n        /* depending on position */\n        top: {\n            top: 2,\n            right: 10,\n            bottom: 8,\n            left: 10,\n        },\n        bottom: {\n            top: 8,\n            right: 10,\n            bottom: 2,\n            left: 10,\n        },\n    },\n    labelColor: '#000000',\n    labelHighlightColor: '#1831cc',\n    inactiveColor: '#e0e0e0',\n    shapesSize: 10,\n    labelsSize: 10,\n    labelsMargin: 8,\n}\n```\nOptions:\n    - **visible** - _(boolean)_ - defines whether the legend should be rendered.\n    - **position** - _(string)_ - it can be set either to `top` or `bottom` and it sets the position of legend on the chart.\n    - **margin** - _(object)_ - legend margins, it is an object containing fields `top`, `right`, `bottom` and `left`.\n    _ **inactiveColor** - _(string)_ - color of series that are currently not displayed on the chart.\n    - **labelColor** - _(stirng)_ - color of legend labels.\n    - **labelHighlightColor** - _(stirng)_ - color of highlighted legend label.\n    - **shapesSize** - _(number)_ - width and height of a graphical shape in legend entry.\n    - **labelsSize** - _(number)_ - size of legend labels in px.\n    - **labelsMargin** - _(number)_ - margin of legend labels from shapes in px.<br>\n- **stacked** _(boolean / delegate)_ - defines whether the data representations should start at the end of the previous ones in values axis<br>\nDefault value - `false`\n- **matchStackTo100** - _(boolean)_ - defines whether the stacked series should be extended to fill the full size of a container. Data labels are rendered at the center of data representations in this case, and show percentage of the value in a stack instead of the actual value.<br>\nDefault value - `false`\n- **clustered** _(boolean / delegate)_ - defines whether the data representations should start at the end of the previous ones in categories axis<br>\nDefault value - `false`\n- **clusterScalingSize** _(number)_ - defines the total width of a whole cluster in percents of a bandwidth (the whole category width)<br>\nIf set, the series sizes are multiplied or divided to give a sum of 100.\n- **overlapping** _(number)_ - defines whether and by how much the data representations should overlap the previous ones in categories axis<br>\nSetting it to `0` results in getting a normal `clustered` group.\n- **overlappingType** _(string)_ - defines the type of overlapping. Itâ€™s applied when `overlapping` is set.<br>\nPossible values:\n    - `percentsPrevious` - the shift of elements is **overlapping** / 100 * width of element before the current one\n    - `percentsCurrent` - the shift of elements is **overlapping** / 100 * width of the current element\n    - `pixels` - the shift of elements is **overlapping**<br>\nDefault value - `pixels`\n- **centerOrigin** _(boolean / delegate)_ - defines whether the origin (zero line) should be at the center of the chart.<br>\nDefault value - `false`\n- **gridlines** _(boolean / delegate)_ - defines whether the grid lines for values should be rendered<br>\nDefault value - `false`\n- **mergeSeriesCategories** _(boolean / delegate)_ - defines whether the categories from every series should be shown on the graph.<br>\nFirst categories are the ones from the series with the biggest order value, then the next one etc.<br>\nDefault value - `false`\n- **forecastStart** _(string / number / delegate)_ - column value at which the forecast starts<br>\nThe behavior is described in [Forecast columns](/forecast-columns) tab.\n- **forecastOpacity** _(number / delegate)_ - opacity of forecasted data representation in percents<br>\nDefault value - `30`\n- **dataLabelsMargin** _(number / delegate)_ - data labels' margin from data representation<br>\nDefault value - `6`\n- **dataLabelsSize** _(number / delegate)_ - data labels' font size<br>\nDefault value - `12`\n- **dataLabelsDecimals** _(number)_ - the number of decimals to be rendered in data labels of all series. It has a lower priority than similar setting for specific series.<br>\nDefault value - `0`\n- **dataOuterPadding** _(number / delegate)_ - padding of the first and last data representations in percents<br>\nDefault value - `30`\n- **axesTitlesSize** _(number / delegate)_ - axes titles font sizes<br>\nDefault value - `14`\n- **valuesAxesLabelsSize** _(number / delegate)_ - values axes labels' font size<br>\nDefault value - `10`\n- **categoryAxisLabelsSize** _(number / delegate)_ - category axis labels' font size<br>\nDefault value - `10`\n- **background** _(string / delegate)_ - background of the chart area<br>\nDefault value - `#ffffff`\n- **truncateTitles** _(boolean / delegate)_ - defines whether the horizontal axes titles should be truncated (or hidden) if there is not enough space to render them.<br>\nDefault value - `true`\n- **showVersion** _(boolean / delegate)_ - defines whether the library version should be rendered at the bottom right of the chart<br>\nDefault value - `false`\n- **xLabelsResponsiveness** _(array)_ - defines how the responsiveness of x axes labels should behave.<br>\nThe usage and the default behavior are described in [X Axes labels responsiveness](/x-axes-labels-responsiveness) tab.\n- **dataLabelsSeparators** _(object)_ - defines which separators should be used for data labels. It overwrites the default ones and small multiple's, but has got a lower priority than similar settings for series.<br>\nIt has got the same fields as **separators** option for [Series](/series).\n- **valuesAxesSeparators** _(object)_ - defines which separators should be used for values axes labels. It overwrites the default ones, but has got a lower priority than similar settings for axes.\nIt has got the same fields as **separators** option for [Series](/series).\n- **thumbnail** _(boolean)_ - defines whether the chart should be drawn as a thumbnail. It is a shortcut for setting the following chart options:\n```\n{\n    primaryValuesAxis: {\n        line: false,\n        labels: false,\n    },\n    secondaryValuesAxis: {\n        line: false,\n        labels: false,\n    },\n    categoriesAxis: {\n        line: false,\n        labels: false,\n    },\n    primaryValuesTitle: null,\n    secondaryValuesTitle: null,\n    categoriesTitle: null,\n    legend: {\n        visible: false,\n    },\n    showVersion: false,\n}\n```\n"
    }),

    mounted() {
      const md = require( "markdown" ).markdown
      // parse the markdown into a tree and grab the link references
      let tree = md.parse( this.doc )
      console.log('parse tree', JSON.stringify(tree))
      let refs = tree[ 1 ].references;
      // iterate through the tree finding link references
      ( function find_link_refs( jsonml ) {
        if ( jsonml[ 0 ] === "link_ref" ) {
          var ref = jsonml[ 1 ].ref;

          // if there's no reference, define a wiki link
          if ( !refs[ ref ] ) {
            refs[ ref ] = {
              href: "http://en.wikipedia.org/wiki/" + ref.replace(/\s+/, "_" )
            };
          }
        }
        else if ( Array.isArray( jsonml[ 1 ] ) ) {
          jsonml[ 1 ].forEach( find_link_refs );
        }
        else if ( Array.isArray( jsonml[ 2 ] ) ) {
          jsonml[ 2 ].forEach( find_link_refs );
        }
      } )( tree );
      this.html =  md.renderJsonML( md.toHTMLTree( tree ) )
      console.log( this.html )
    }
  }
</script>

<style scoped>

</style>
